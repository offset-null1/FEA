<!--
=========================================================
* BLK Design System- v1.0.0
=========================================================

* Product Page: https://www.creative-tim.com/product/blk-design-system
* Copyright 2019 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 -->

 <!DOCTYPE html>
 <html lang="en">
 
 <head>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <link rel="apple-touch-icon" sizes="76x76" href="{{url_for('static', filename='assets/img/apple-icon.png') }}">
   <link rel="icon" type="image/png" href="{{ url_for('static', filename='assets/img/favicon.png') }}">
   <title>
     FEA• Face Enabled Attendance System
   </title>
   <!--     Fonts and icons     -->
   <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800" rel="stylesheet" />
   <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
   <!-- Nucleo Icons -->
   <link rel="stylesheet" href="{{ url_for('static',filename='assets/css/nucleo-icons.css') }}" />
   <!-- CSS Files -->
   <link rel="stylesheet" href="{{ url_for('static',filename='assets/css/blk-design-system.css') }}" />
   <!-- CSS Just for demo purpose, don't include it in your project -->
   <link rel="stylesheet" href="{{ url_for('static',filename='assets/demo/demo.css') }}"  />
 </head>

 <style>
  option {
     background-color: black !important;
 }
</style>
 
 <body class="index-page">
   <!-- Navbar -->
   <nav class="navbar navbar-expand-lg fixed-top navbar-transparent " color-on-scroll="100">
     <div class="container">
       <div class="navbar-translate">
         <a class="navbar-brand" href="{{ url_for('base') }}" rel="tooltip" title="FEA• By Dakshta" data-placement="bottom" target="_blank">
           <span>FEA•</span> Face Enabled Attendance System
         </a>
         <button class="navbar-toggler navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
           <span class="navbar-toggler-bar bar1"></span>
           <span class="navbar-toggler-bar bar2"></span>
           <span class="navbar-toggler-bar bar3"></span>
         </button>
       </div>
       <div class="collapse navbar-collapse justify-content-end" id="navigation">
         <div class="navbar-collapse-header">
           <div class="row">
             <div class="col-6 collapse-brand">
               <a>
                 FEA•
               </a>
             </div>
             <div class="col-6 collapse-close text-right">
               <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                 <i class="tim-icons icon-simple-remove"></i>
               </button>
             </div>
           </div>
         </div>
         <ul class="navbar-nav">
           <li class="nav-item p-0">
             <a class="nav-link" rel="tooltip" title="Start taking attendance" data-placement="bottom" href="{{ url_for('attendance') }}"target="_blank">
               <i class="tim-icons icon-badge"></i>
               <p class="d-lg-none d-xl-none">Attendance</p>
             </a>
           </li>
           <li class="nav-item p-0">
             <a class="nav-link" rel="tooltip" title="Register a student" data-placement="bottom" href="{{ url_for('form') }}" target="_blank">
               <i class="tim-icons icon-paper"></i>
               <p class="d-lg-none d-xl-none">Register</p>
             </a>
           </li>
           <li class="dropdown nav-item">
            <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">    
              <i class="tim-icons icon-upload"></i></i> Upload Marks
            </a>
            <div class="dropdown-menu dropdown-with-icons">
              <a href="{{ url_for('marks') }}" class="dropdown-item">
                <i class="tim-icons icon-paper"></i> All
              </a>
              <a href="{{ url_for('assign') }}" class="dropdown-item">
                <i class="tim-icons icon-notes"></i>Assignment
              </a>
              <a href="{{ url_for('project') }}" class="dropdown-item">
                <i class="tim-icons icon-bulb-63"></i>Project
              </a>
              <a href="{{ url_for('ia') }}" class="dropdown-item">
                <i class="tim-icons icon-pencil"></i> IA
              </a>
              <a href="{{ url_for('lab') }}" class="dropdown-item">
                <i class="tim-icons icon-laptop"></i> Lab
              </a>
            </div>
          </li>
           <li class="dropdown nav-item">
             <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">    
               <i class="tim-icons icon-chart-bar-32"></i> Analyze
             </a>
             <div class="dropdown-menu dropdown-with-icons">
               <a href="{{ url_for('viz_marks') }}" class="dropdown-item">
                 <i class="tim-icons icon-paper"></i> Marks
               </a>
               <a href="{{ url_for('viz_attendance') }}" class="dropdown-item">
                 <i class="tim-icons icon-notes"></i>Attendance
               </a>
             </div>
           </li>
         </ul>
       </div>
     </div>
   </nav>
   <!-- End Navbar -->

   <div class="section section-signup">
    <div class="container">
      <div class="squares square-1"></div>
      <div class="squares square-2"></div>
      <div class="squares square-3"></div>
      <div class="squares square-4"></div>
      <div class="row row-grid justify-content-between align-items-center">
      <div class="col-lg-6">
          <form action="{{ url_for('viz_marks') }}" method="POST"> 
          
           <fieldset>
             <legend>Enter the options </legend>

            <div class="form-group">
              <label for="usn">USN </label>
              <input type="text" name="usn" class="form-control" id="usn"  placeholder="1SK.." required>
              <small id="emailHelp" class="form-text text-muted">To get the specific USN marks</small>
            </div>

            <div class="form-group">
              <label for="usn">Subject ID </label>
              <input type="text" name="sub" class="form-control" id="sub" required>
              <small id="emailHelp" class="form-text text-muted">To get the specific USN marks</small>
            </div>

            <div class="form-group">
              <label for="ia_no">IA Number</label>
              <select class="form-control" name="ia" id="ia" required>
                <option>1</option>
                <option>2</option>
                <option>3</option>
             
              </select>
            </div>

            <div class="form-group">
              <label for="ia_no">Assignment Number</label>
              <select class="form-control" name="assign" id="assign" required>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
             
              </select>
            </div>
            
           </fieldset>
           <button type="submit" id='submit' class="btn btn-primary" >Submit</button>
           </fieldset>
          </form>


          <section class="section section-lg">
           <img src="{{ url_for('static',filename='assets/img/path4.png')}}" class="path">
           <div class="col-md-12">
             <div class="card card-chart card-plain">
               <div class="card-header">
                 <div class="row">
                   <div class="col-sm-6 text-left">
                     <hr class="line-primary">
                     <h5 class="card-category">{{ fname }} {{ lname }}</h5>
                     <h2 class="card-title">{{ usn }} updates</h2>
                   </div>
                 </div>
               </div>
               <div class="card-body">
                 <div class="chart-area"><div class="chartjs-size-monitor" style="position: absolute; inset: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
                   <canvas id="chartBig" width="95" height="500" class="chartjs-render-monitor" style="display: block; width: 95px; height: 500px;">Chart</canvas>
                 </div>
               </div>
             </div>
           </div>
          </section>
      </div>
      </div>
    </div>
   </div>
  
   {% if d %}
    <table class="table">
      <thead>
          <tr>
              <th class="text-center">#</th>
              <th>USN</th>
              <th>First Name</th>
              <th>Last Name</th>
              <th>Email</th>
              <th>Phone Number</th>
              <th>Semester</th>
              <th>Branch</th>
              <th>Logins</th>
              <th>Logouts</th>
              <th>Subject ID</th>
              <th>Assignment Number</th>
              <th>Marks</th>
              <th>Internal Assessment</th>
              <th>Marks</th>
              <th>Laboratory Marks</th>
              <th>Project Marks</th>
              
          </tr>
      </thead>
      <tbody>
        {% for i in range(d|length) %}
         <tr>
             <td class="text-center">•</td>
             
             <td>{{ d[i]['usn'] }}</td>
             <td>{{ d[i]['fname'] }}</td>
             <td>{{ d[i]['lname'] }}</td>
             <td>{{ d[i]['email'] }}</td>
             <td>{{ d[i]['phone_no'] }}</td>
             <td>{{ d[i]['sem'] }}</td>
             <td>{{ d[i]['branch'] }}</td>
             <td>{{ d[i]['login'] }}</td>
             <td>{{ d[i]['logout'] }}</td>
             <td>{{ d[i]['sub_id'] }}</td>
             <td>{{ d[i]['assign_no'] }}</td>
             <td>{{ d[i]['assign_marks'] }}</td>
             <td>{{ d[i]['ia_no'] }}</td>
             <td>{{ d[i]['ia_marks'] }}</td>
             <td>{{ d[i]['lab_marks'] }}</td>
             <td>{{ d[i]['project_marks'] }}</td>
    
         </tr> 
        {% endfor %}

       
     </tbody>
   </table>

{% endif %}
   
   


   <!--   Core JS Files   -->
  <script src="{{ url_for('static', filename='assets/js/core/jquery.min.js') }}" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='assets/js/core/popper.min.js') }}" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='assets/js/core/bootstrap.min.js') }}" type="text/javascript"></script>
  <script src="{{ url_for('static', filename='assets/js/plugins/perfect-scrollbar.jquery.min.js') }}"></script>
  <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
  <script src="{{ url_for('static', filename='assets/js/plugins/bootstrap-switch.js') }}"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="{{ url_for('static', filename='assets/js/plugins/nouislider.min.js') }}" type="text/javascript"></script>
  <!-- Chart JS -->
  <script src="{{ url_for('static', filename='assets/js/plugins/chartjs.min.js') }}"></script>
  <!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
  <script src="{{ url_for('static', filename='assets/js/plugins/moment.min.js')}}"></script>
  <script src="{{ url_for('static', filename='assets/js/plugins/bootstrap-datetimepicker.js')}}" type="text/javascript"></script>
  <!-- Black Dashboard DEMO methods, don't include it in your project! -->
  <script src="{{ url_for('static' , filename='assets/demo/demo.js')}}"></script>
  <!-- Control Center for Black UI Kit: parallax effects, scripts for the example pages etc -->
  <script src="{{ url_for('static' , filename='assets/js/blk-design-system.min.js')}}" type="text/javascript"></script>

<script>
 
chartColor = "#FFFFFF";

// General configuration for the charts with Line gradientStroke
gradientChartOptionsConfiguration = {
    maintainAspectRatio: false,
    legend: {
        display: false
    },
    tooltips: {
      bodySpacing: 4,
      mode:"nearest",
      intersect: 0,
      position:"nearest",
      xPadding:10,
      yPadding:10,
      caretPadding:10
    },
    responsive: 1,
    scales: {
        yAxes: [{
          display:0,
          gridLines:0,
          ticks: {
              display: false
          },
          gridLines: {
              zeroLineColor: "transparent",
              drawTicks: false,
              display: false,
              drawBorder: false
          }
        }],
        xAxes: [{
          display:0,
          gridLines:0,
          ticks: {
              display: false
          },
          gridLines: {
            zeroLineColor: "transparent",
            drawTicks: false,
            display: false,
            drawBorder: false
          }
        }]
    },
    layout:{
      padding:{left:0,right:0,top:15,bottom:15}
    }
};

ctx = document.getElementById('chartBig').getContext("2d");

gradientStroke = ctx.createLinearGradient(500, 0, 100, 0);
gradientStroke.addColorStop(0, '#80b6f4');
gradientStroke.addColorStop(1, chartColor);

gradientFill = ctx.createLinearGradient(0, 170, 0, 50);
gradientFill.addColorStop(0, "rgba(128, 182, 244, 0)");
gradientFill.addColorStop(1, "rgba(249, 99, 59, 0.40)");

myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Attendance','Assignment Marks','Internal Assessment Marks','Lab Marks','Project Marks'],
        datasets: [{
            label: "Analysis",
            borderColor: "#f96332",
            pointBorderColor: "#FFF",
            pointBackgroundColor: "#f96332",
            pointBorderWidth: 2,
            pointHoverRadius: 4,
            pointHoverBorderWidth: 1,
            pointRadius: 4,
            fill: true,
            backgroundColor: gradientFill,
            borderWidth: 2,
            data:  [{{ attend_count }},{{ d['assign_marks'] }},{{ d['ia_marks'] }}, {{ d['lab_marks'] }}, {{ d['project_marks'] }}]
          }]
        },
    options: gradientChartOptionsConfiguration
  });

</script>
</body>

</html>